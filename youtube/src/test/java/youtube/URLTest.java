package youtube;

import java.net.MalformedURLException;
import java.net.URI;
import java.net.URISyntaxException;
import java.net.URL;
import java.net.URLDecoder;
import java.net.URLEncoder;
import java.nio.charset.StandardCharsets;

public class URLTest {

	public static void main(String[] args) throws MalformedURLException, URISyntaxException {
		URL url = new URL("https://www.youtube.com/watch?v=jMV-aN634ZQ&ab_channel=MechaSoul");
		System.out.println(url);
		System.out.println(url.getAuthority());
		System.out.println(url.getPath());
		System.out.println(url.getProtocol());
		System.out.println(url.getQuery());
		
		String encoded = "%7B%22itag%22%3A18%2C%22url%22%3A%22https%3A%2F%2Fr2---sn-nx5s7n76.c.youtube.com%2Fvideoplayback%3Fexpire%3D1623673219%5Cu0026ei%3DIvXGYKqoNYOKsfIPkc2z8AU%5Cu0026ip%3D2001%253A569%253A709a%253A1100%253A2d58%253Aa3f7%253A2a9f%253Aa1da%5Cu0026cp%3DU0tRSFZSUV9GU0NRMV9OTFVDOlJ5MV9YdElMdThZZHkxZmVlYlZmWHJDaER2Ul9GYXJpTEE5WVRYWXQ4TGU%5Cu0026id%3Do-ACroRtUqLVNT-96SECWHTwsyoSwh44vXub4XLO5LUt43%5Cu0026itag%3D18%5Cu0026source%3Dyoutube%5Cu0026requiressl%3Dyes%5Cu0026mh%3DE-%5Cu0026mm%3D32%5Cu0026mn%3Dsn-nx5s7n76%5Cu0026ms%3Dsu%5Cu0026mv%3Du%5Cu0026mvi%3D2%5Cu0026pl%3D44%5Cu0026sc%3Dyes%5Cu0026vprv%3D1%5Cu0026mime%3Dvideo%252Fmp4%5Cu0026ns%3DywVIB0AU-HmfqrqkYgDAP6oF%5Cu0026gir%3Dyes%5Cu0026clen%3D105090690%5Cu0026ratebypass%3Dyes%5Cu0026dur%3D1180.014%5Cu0026lmt%3D1513106574486031%5Cu0026mt%3D1623651281%5Cu0026fexp%3D24001373%252C24007246%5Cu0026c%3DWEB%5Cu0026n%3DE34oe5Fuy4tK0FMuBBk%5Cu0026sparams%3Dexpire%252Cei%252Cip%252Ccp%252Cid%252Citag%252Csource%252Crequiressl%252Cvprv%252Cmime%252Cns%252Cgir%252Cclen%252Cratebypass%252Cdur%252Clmt%5Cu0026sig%3DAOq0QJ8wRgIhAL0RN9yaXWHQWk0YHde1p9sJHQ11VNyp2xiYDM0nzpCQAiEAjNanwfx074e-pRlT0jruqiTfLjYJGMeL9oHG2WTikx4%253D%5Cu0026lsparams%3Dmh%252Cmm%252Cmn%252Cms%252Cmv%252Cmvi%252Cpl%252Csc%5Cu0026lsig%3DAG3C_xAwRQIgSQ_AhUVV1S-i-HkIfoUMdww2s0wD_dltZ_iCMC2ol_cCIQDGNWKjlp5tOzq3JlWPXaS5GlkuM7kqtZgB_uy5sO24qQ%253D%253D%22%2C%22mimeType%22%3A%22video%2Fmp4%3B+codecs%3D%5C%22avc1.42001E%2C+mp4a.40.2%5C%22%22%2C%22bitrate%22%3A712512%2C%22width%22%3A640%2C%22height%22%3A360%2C%22lastModified%22%3A%221513106574486031%22%2C%22contentLength%22%3A%22105090690%22%2C%22quality%22%3A%22medium%22%2C%22fps%22%3A30%2C%22qualityLabel%22%3A%22360p%22%2C%22projectionType%22%3A%22RECTANGULAR%22%2C%22averageBitrate%22%3A712470%2C%22audioQuality%22%3A%22AUDIO_QUALITY_LOW%22%2C%22approxDurationMs%22%3A%221180014%22%2C%22audioSampleRate%22%3A%2244100%22%2C%22audioChannels%22%3A2%7D%2C%7B%22itag%22%3A22%2C%22url%22%3A%22https%3A%2F%2Fr2---sn-nx5s7n76.c.youtube.com%2Fvideoplayback%3Fexpire%3D1623673219%5Cu0026ei%3DIvXGYKqoNYOKsfIPkc2z8AU%5Cu0026ip%3D2001%253A569%253A709a%253A1100%253A2d58%253Aa3f7%253A2a9f%253Aa1da%5Cu0026cp%3DU0tRSFZSUV9GU0NRMV9OTFVDOlJ5MV9YdElMdThZZHkxZmVlYlZmWHJDaER2Ul9GYXJpTEE5WVRYWXQ4TGU%5Cu0026id%3Do-ACroRtUqLVNT-96SECWHTwsyoSwh44vXub4XLO5LUt43%5Cu0026itag%3D22%5Cu0026source%3Dyoutube%5Cu0026requiressl%3Dyes%5Cu0026mh%3DE-%5Cu0026mm%3D32%5Cu0026mn%3Dsn-nx5s7n76%5Cu0026ms%3Dsu%5Cu0026mv%3Du%5Cu0026mvi%3D2%5Cu0026pl%3D44%5Cu0026sc%3Dyes%5Cu0026vprv%3D1%5Cu0026mime%3Dvideo%252Fmp4%5Cu0026ns%3DywVIB0AU-HmfqrqkYgDAP6oF%5Cu0026ratebypass%3Dyes%5Cu0026dur%3D1180.014%5Cu0026lmt%3D1513106962716542%5Cu0026mt%3D1623651281%5Cu0026fexp%3D24001373%252C24007246%5Cu0026c%3DWEB%5Cu0026n%3DE34oe5Fuy4tK0FMuBBk%5Cu0026sparams%3Dexpire%252Cei%252Cip%252Ccp%252Cid%252Citag%252Csource%252Crequiressl%252Cvprv%252Cmime%252Cns%252Cratebypass%252Cdur%252Clmt%5Cu0026sig%3DAOq0QJ8wRQIhANZLuTmQJB0iWXPsO88Syu3zJGYrH5fvX0DKJvoaL6XeAiBUAa5QVE-m_P_VRXogsyYmwX5Vw4I7_ykSg3bQNHjSqg%253D%253D%5Cu0026lsparams%3Dmh%252Cmm%252Cmn%252Cms%252Cmv%252Cmvi%252Cpl%252Csc%5Cu0026lsig%3DAG3C_xAwRQIgSQ_AhUVV1S-i-HkIfoUMdww2s0wD_dltZ_iCMC2ol_cCIQDGNWKjlp5tOzq3JlWPXaS5GlkuM7kqtZgB_uy5sO24qQ%253D%253D%22%2C%22mimeType%22%3A%22video%2Fmp4%3B+codecs%3D%5C%22avc1.64001F%2C+mp4a.40.2%5C%22%22%2C%22bitrate%22%3A3046889%2C%22width%22%3A1280%2C%22height%22%3A720%2C%22lastModified%22%3A%221513106962716542%22%2C%22quality%22%3A%22hd720%22%2C%22fps%22%3A30%2C%22qualityLabel%22%3A%22720p%22%2C%22projectionType%22%3A%22RECTANGULAR%22%2C%22audioQuality%22%3A%22AUDIO_QUALITY_MEDIUM%22%2C%22approxDurationMs%22%3A%221180014%22%2C%22audioSampleRate%22%3A%2244100%22%2C%22audioChannels%22%3A2%7D";
		String decoded = "{\"itag\":18,\"url\":\"https://r2---sn-nx5s7n76.c.youtube.com/videoplayback?expire=1623673219\\u0026ei=IvXGYKqoNYOKsfIPkc2z8AU\\u0026ip=2001%3A569%3A709a%3A1100%3A2d58%3Aa3f7%3A2a9f%3Aa1da\\u0026cp=U0tRSFZSUV9GU0NRMV9OTFVDOlJ5MV9YdElMdThZZHkxZmVlYlZmWHJDaER2Ul9GYXJpTEE5WVRYWXQ4TGU\\u0026id=o-ACroRtUqLVNT-96SECWHTwsyoSwh44vXub4XLO5LUt43\\u0026itag=18\\u0026source=youtube\\u0026requiressl=yes\\u0026mh=E-\\u0026mm=32\\u0026mn=sn-nx5s7n76\\u0026ms=su\\u0026mv=u\\u0026mvi=2\\u0026pl=44\\u0026sc=yes\\u0026vprv=1\\u0026mime=video%2Fmp4\\u0026ns=ywVIB0AU-HmfqrqkYgDAP6oF\\u0026gir=yes\\u0026clen=105090690\\u0026ratebypass=yes\\u0026dur=1180.014\\u0026lmt=1513106574486031\\u0026mt=1623651281\\u0026fexp=24001373%2C24007246\\u0026c=WEB\\u0026n=E34oe5Fuy4tK0FMuBBk\\u0026sparams=expire%2Cei%2Cip%2Ccp%2Cid%2Citag%2Csource%2Crequiressl%2Cvprv%2Cmime%2Cns%2Cgir%2Cclen%2Cratebypass%2Cdur%2Clmt\\u0026sig=AOq0QJ8wRgIhAL0RN9yaXWHQWk0YHde1p9sJHQ11VNyp2xiYDM0nzpCQAiEAjNanwfx074e-pRlT0jruqiTfLjYJGMeL9oHG2WTikx4%3D\\u0026lsparams=mh%2Cmm%2Cmn%2Cms%2Cmv%2Cmvi%2Cpl%2Csc\\u0026lsig=AG3C_xAwRQIgSQ_AhUVV1S-i-HkIfoUMdww2s0wD_dltZ_iCMC2ol_cCIQDGNWKjlp5tOzq3JlWPXaS5GlkuM7kqtZgB_uy5sO24qQ%3D%3D\",\"mimeType\":\"video/mp4;+codecs=\\\"avc1.42001E,+mp4a.40.2\\\"\",\"bitrate\":712512,\"width\":640,\"height\":360,\"lastModified\":\"1513106574486031\",\"contentLength\":\"105090690\",\"quality\":\"medium\",\"fps\":30,\"qualityLabel\":\"360p\",\"projectionType\":\"RECTANGULAR\",\"averageBitrate\":712470,\"audioQuality\":\"AUDIO_QUALITY_LOW\",\"approxDurationMs\":\"1180014\",\"audioSampleRate\":\"44100\",\"audioChannels\":2},{\"itag\":22,\"url\":\"https://r2---sn-nx5s7n76.c.youtube.com/videoplayback?expire=1623673219\\u0026ei=IvXGYKqoNYOKsfIPkc2z8AU\\u0026ip=2001%3A569%3A709a%3A1100%3A2d58%3Aa3f7%3A2a9f%3Aa1da\\u0026cp=U0tRSFZSUV9GU0NRMV9OTFVDOlJ5MV9YdElMdThZZHkxZmVlYlZmWHJDaER2Ul9GYXJpTEE5WVRYWXQ4TGU\\u0026id=o-ACroRtUqLVNT-96SECWHTwsyoSwh44vXub4XLO5LUt43\\u0026itag=22\\u0026source=youtube\\u0026requiressl=yes\\u0026mh=E-\\u0026mm=32\\u0026mn=sn-nx5s7n76\\u0026ms=su\\u0026mv=u\\u0026mvi=2\\u0026pl=44\\u0026sc=yes\\u0026vprv=1\\u0026mime=video%2Fmp4\\u0026ns=ywVIB0AU-HmfqrqkYgDAP6oF\\u0026ratebypass=yes\\u0026dur=1180.014\\u0026lmt=1513106962716542\\u0026mt=1623651281\\u0026fexp=24001373%2C24007246\\u0026c=WEB\\u0026n=E34oe5Fuy4tK0FMuBBk\\u0026sparams=expire%2Cei%2Cip%2Ccp%2Cid%2Citag%2Csource%2Crequiressl%2Cvprv%2Cmime%2Cns%2Cratebypass%2Cdur%2Clmt\\u0026sig=AOq0QJ8wRQIhANZLuTmQJB0iWXPsO88Syu3zJGYrH5fvX0DKJvoaL6XeAiBUAa5QVE-m_P_VRXogsyYmwX5Vw4I7_ykSg3bQNHjSqg%3D%3D\\u0026lsparams=mh%2Cmm%2Cmn%2Cms%2Cmv%2Cmvi%2Cpl%2Csc\\u0026lsig=AG3C_xAwRQIgSQ_AhUVV1S-i-HkIfoUMdww2s0wD_dltZ_iCMC2ol_cCIQDGNWKjlp5tOzq3JlWPXaS5GlkuM7kqtZgB_uy5sO24qQ%3D%3D\",\"mimeType\":\"video/mp4;+codecs=\\\"avc1.64001F,+mp4a.40.2\\\"\",\"bitrate\":3046889,\"width\":1280,\"height\":720,\"lastModified\":\"1513106962716542\",\"quality\":\"hd720\",\"fps\":30,\"qualityLabel\":\"720p\",\"projectionType\":\"RECTANGULAR\",\"audioQuality\":\"AUDIO_QUALITY_MEDIUM\",\"approxDurationMs\":\"1180014\",\"audioSampleRate\":\"44100\",\"audioChannels\":2}";
		URI uri = new URI(null, null, encoded, null);
		System.out.println(URLDecoder.decode(encoded, StandardCharsets.UTF_8));
		System.out.println(URLEncoder.encode(decoded, StandardCharsets.UTF_8));
	}
	
}
